
function fileOut = markRegion(gene_name,conf)
    % Load all file in a given directory
    filenames = dir( fullfile(conf.dir_name,gene_name,'*.jpg'));
    matFiles = dir( fullfile(conf.dir_name,gene_name,'*.mat'));
    for i_matFile = 1: length(matFiles)

        matFileName = matFiles(i_matFile).name;
        data = load(fullfile(conf.dir_name,gene_name,matFileName));
        data.coordinates=cell(length(data.downloadedFilesNames),1);
        count=0;
        for i_file = 1: length(data.downloadedFilesNames)
              [~, fileName, ext] = fileparts(data.downloadedFilesNames{i_file}) ;
              fileName = [fileName, ext];
              fileName = fullfile(conf.dir_name,gene_name,fileName);

              I = imread(fileName);
              imshow(I);

              action = input('what do you want to do? ([m]ark,n/s)', 's');
              switch action
               case 'n',
               case 's',
                   count=count+1;
                   %data.fileOut(count).name=fileName;%save the name of the pic.
                   [x,y] = getpts;%get the coorinates, as many as you like. press Enter 
                                    %to finish
                   data.coordinates{i_file}.x=x;%save the coordinates to the matching pic.
                   data.coordinates{i_file}.y=y;
               otherwise
                error('illegal action %s\n', action);
              end

        

            
        end
        save(fullfile(conf.coordinateFolder,matFileName), '-struct', 'data')
    end
end